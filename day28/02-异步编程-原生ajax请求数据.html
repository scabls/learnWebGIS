<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    姓名：<span class="name"></span>
    <br />
    年龄：<span class="age"></span>
    <script>
      // 使用原生ajax请求用户，将用户信息填充到页面
      //   创建XMLHttpRequest对象
      const xhr = new XMLHttpRequest()
      //   设置请求方式和请求的url
      xhr.open('GET', 'http://localhost:3000/users/1')
      //   监听请求的状态,设置处理函数
      xhr.addEventListener('readystatechange', function () {
        // 如果请求完成且响应就绪
        if (this.readyState == 4 && this.status == 200) {
          // 说明本次响应成功.可以拿到数据
          console.log(this.responseText)
          // 转成js对象
          const user = JSON.parse(this.responseText)
          document.querySelector('.name').textContent = user.name
          document.querySelector('.age').textContent = user.age
        }
      })
      //   发送请求
      xhr.send()
    </script>
  </body>
</html>
